<div *ngIf="mapLoaded" class="my-google-map" [formGroup]="searchForm">
  <google-map class="map-container" [width]="'100%'" [height]="'100vh'" [options]="mapOptions">
    <map-marker *ngFor="let location of locations"
                [clickable]="true"
                [position]="location.position"
                [options]="mapOptions"
                (mapClick)="openLocationDetails(location)">
    </map-marker>
    <ng-container *ngIf="(directionsResults$ | async) as directionsResults">
      <map-directions-renderer *ngIf="directionsResults" [directions]="directionsResults"></map-directions-renderer>
    </ng-container>
  
  </google-map>

  <div class="floating-button">
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Search by name" formControlName="search">
      <button type="button" [ngClass]="{'btn': true, 'btn-dark': !filtersActive, 'btn-warning': filtersActive}" (click)="showFilters()">
        <i class="fa fa-sliders"></i>
      </button>
    </div>
    
    <div class="button-group" *ngIf="showButtons">
      <button style="width: 10em;" type="button" class="btn" 
        [ngClass]="{'btn-dark': selectedFilter !== 'All', 'btn-warning': selectedFilter === 'All'}"
        (click)="toggleFilters('All')">All</button>
    
      <button style="width: 10em;" type="button" class="btn" 
        [ngClass]="{'btn-dark': selectedFilter !== 'history', 'btn-warning': selectedFilter === 'history'}" 
        (click)="toggleFilters('history')">
        <i class="fa fa-university" aria-hidden="true"></i>
        Museums
      </button>
    
      <button style="width: 10em;" type="button" class="btn" 
        [ngClass]="{'btn-dark': selectedFilter !== 'archaeological_site', 'btn-warning': selectedFilter === 'archaeological_site'}" 
        (click)="toggleFilters('archaeological_site')">
        <i class="fa fa-paint-brush" aria-hidden="true"></i>
        Archeology
      </button>
    </div>
    
  </div>
</div>
